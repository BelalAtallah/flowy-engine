{"version":3,"file":"flowy.umd.js","sources":["../src/engine/index.js"],"sourcesContent":["var flowy = function (canvas, grab, release, snapping, spacing_x, spacing_y) {\n  if (!grab) {\n    grab = function () {}\n  }\n  if (!release) {\n    release = function () {}\n  }\n  if (!snapping) {\n    snapping = function () {\n      return true\n    }\n  }\n  if (!spacing_x) {\n    spacing_x = 20\n  }\n  if (!spacing_y) {\n    spacing_y = 80\n  }\n  var loaded = false\n  flowy.load = function () {\n    if (!loaded) loaded = true\n    else return\n    var blocks = []\n    var blockstemp = []\n    var canvas_div = canvas\n    var active = false\n    var paddingx = spacing_x\n    var paddingy = spacing_y\n    var offsetleft = 0\n    var offsetleftold = 0\n    var rearrange = false\n    var lastevent = false\n    var drag, dragx, dragy, original\n    var mouse_x, mouse_y\n    var dragblock = false\n    var el = document.createElement('DIV')\n    el.classList.add('indicator')\n    el.classList.add('invisible')\n    canvas_div.appendChild(el)\n    flowy.import = function (output) {\n      canvas_div.innerHTML = output.html\n      blocks = output.blockarr\n      rearrangeMe()\n    }\n    flowy.output = function () {\n      var html_ser = canvas_div.innerHTML\n      var json_data = { html: html_ser, blockarr: blocks, blocks: [] }\n      if (blocks.length > 0) {\n        for (var i = 0; i < blocks.length; i++) {\n          json_data.blocks.push({\n            id: blocks[i].id,\n            parent: blocks[i].parent,\n            data: [],\n            attr: []\n          })\n          var blockParent = document.querySelector(\n            \".blockid[value='\" + blocks[i].id + \"']\"\n          ).parentNode\n          blockParent.querySelectorAll('input').forEach(function (block) {\n            var json_name = block.getAttribute('name')\n            var json_value = block.value\n            json_data.blocks[i].data.push({\n              name: json_name,\n              value: json_value\n            })\n          })\n          Array.prototype.slice\n            .call(blockParent.attributes)\n            .forEach(function (attribute) {\n              var jsonobj = {}\n              jsonobj[attribute.name] = attribute.value\n              json_data.blocks[i].attr.push(jsonobj)\n            })\n        }\n        return json_data\n      }\n    }\n    flowy.deleteBlocks = function () {\n      blocks = []\n      canvas_div.innerHTML = \"<div class='indicator invisible'></div>\"\n    }\n\n    flowy.beginDrag = function (event) {\n      if (event.targetTouches) {\n        mouse_x = event.changedTouches[0].clientX\n        mouse_y = event.changedTouches[0].clientY\n      } else {\n        mouse_x = event.clientX\n        mouse_y = event.clientY\n      }\n      if (event.which != 3 && event.target.closest('.create-flowy')) {\n        original = event.target.closest('.create-flowy')\n        var newNode = event.target.closest('.create-flowy').cloneNode(true)\n        event.target.closest('.create-flowy').classList.add('dragnow')\n        newNode.classList.add('block')\n        newNode.classList.remove('create-flowy')\n        if (blocks.length === 0) {\n          newNode.innerHTML +=\n            \"<input type='hidden' name='blockid' class='blockid' value='\" +\n            blocks.length +\n            \"'>\"\n          document.body.appendChild(newNode)\n          drag = document.querySelector(\n            \".blockid[value='\" + blocks.length + \"']\"\n          ).parentNode\n        } else {\n          newNode.innerHTML +=\n            \"<input type='hidden' name='blockid' class='blockid' value='\" +\n            (Math.max.apply(\n              Math,\n              blocks.map(a => a.id)\n            ) +\n              1) +\n            \"'>\"\n          document.body.appendChild(newNode)\n          drag = document.querySelector(\n            \".blockid[value='\" +\n              (parseInt(\n                Math.max.apply(\n                  Math,\n                  blocks.map(a => a.id)\n                )\n              ) +\n                1) +\n              \"']\"\n          ).parentNode\n        }\n        blockGrabbed(event.target.closest('.create-flowy'))\n        drag.classList.add('dragging')\n        active = true\n        dragx =\n          mouse_x -\n          event.target.closest('.create-flowy').getBoundingClientRect().left\n        dragy =\n          mouse_y -\n          event.target.closest('.create-flowy').getBoundingClientRect().top\n        drag.style.left = mouse_x - dragx + 'px'\n        drag.style.top = mouse_y - dragy + 'px'\n      }\n    }\n    document.addEventListener('mousedown', touchblock, false)\n    document.addEventListener('touchstart', touchblock, false)\n    document.addEventListener('mouseup', touchblock, false)\n\n    flowy.touchDone = function () {\n      dragblock = false\n    }\n    document.addEventListener('mousedown', flowy.beginDrag)\n    document.addEventListener('touchstart', flowy.beginDrag)\n\n    flowy.endDrag = function (event) {\n      if (event.which != 3 && (active || rearrange)) {\n        dragblock = false\n        blockReleased()\n        if (\n          !document.querySelector('.indicator').classList.contains('invisible')\n        ) {\n          document.querySelector('.indicator').classList.add('invisible')\n        }\n        if (active) {\n          original.classList.remove('dragnow')\n          drag.classList.remove('dragging')\n        }\n        if (parseInt(drag.querySelector('.blockid').value) === 0 && rearrange) {\n          drag.classList.remove('dragging')\n          rearrange = false\n          for (var w = 0; w < blockstemp.length; w++) {\n            if (\n              blockstemp[w].id != parseInt(drag.querySelector('.blockid').value)\n            ) {\n              const blockParent = document.querySelector(\n                \".blockid[value='\" + blockstemp[w].id + \"']\"\n              ).parentNode\n              const arrowParent = document.querySelector(\n                \".arrowid[value='\" + blockstemp[w].id + \"']\"\n              ).parentNode\n              blockParent.style.left =\n                blockParent.getBoundingClientRect().left +\n                window.scrollX -\n                (canvas_div.getBoundingClientRect().left + window.scrollX) +\n                canvas_div.scrollLeft +\n                'px'\n              blockParent.style.top =\n                blockParent.getBoundingClientRect().top +\n                window.scrollY -\n                (canvas_div.getBoundingClientRect().top + window.scrollY) +\n                canvas_div.scrollTop +\n                'px'\n              arrowParent.style.left =\n                arrowParent.getBoundingClientRect().left +\n                window.scrollX -\n                (canvas_div.getBoundingClientRect().left + window.scrollX) +\n                canvas_div.scrollLeft +\n                'px'\n              arrowParent.style.top =\n                arrowParent.getBoundingClientRect().top +\n                window.scrollY -\n                (canvas_div.getBoundingClientRect().top +\n                  canvas_div.scrollTop) +\n                'px'\n              canvas_div.appendChild(blockParent)\n              canvas_div.appendChild(arrowParent)\n              blockstemp[w].x =\n                blockParent.getBoundingClientRect().left +\n                window.scrollX +\n                parseInt(blockParent.offsetWidth) / 2 +\n                canvas_div.scrollLeft\n              blockstemp[w].y =\n                blockParent.getBoundingClientRect().top +\n                window.scrollY +\n                parseInt(blockParent.offsetHeight) / 2 +\n                canvas_div.scrollTop\n            }\n          }\n          blockstemp.filter(a => a.id == 0)[0].x =\n            drag.getBoundingClientRect().left +\n            window.scrollX +\n            parseInt(window.getComputedStyle(drag).width) / 2\n          blockstemp.filter(a => a.id == 0)[0].y =\n            drag.getBoundingClientRect().top +\n            window.scrollY +\n            parseInt(window.getComputedStyle(drag).height) / 2\n          blocks = blocks.concat(blockstemp)\n          blockstemp = []\n        } else if (\n          active &&\n          blocks.length == 0 &&\n          drag.getBoundingClientRect().top + window.scrollY >\n            canvas_div.getBoundingClientRect().top + window.scrollY &&\n          drag.getBoundingClientRect().left + window.scrollX >\n            canvas_div.getBoundingClientRect().left + window.scrollX\n        ) {\n          blockSnap(drag, true, undefined)\n          active = false\n          drag.style.top =\n            drag.getBoundingClientRect().top +\n            window.scrollY -\n            (canvas_div.getBoundingClientRect().top + window.scrollY) +\n            canvas_div.scrollTop +\n            'px'\n          drag.style.left =\n            drag.getBoundingClientRect().left +\n            window.scrollX -\n            (canvas_div.getBoundingClientRect().left + window.scrollX) +\n            canvas_div.scrollLeft +\n            'px'\n          canvas_div.appendChild(drag)\n          blocks.push({\n            parent: -1,\n            childwidth: 0,\n            id: parseInt(drag.querySelector('.blockid').value),\n            x:\n              drag.getBoundingClientRect().left +\n              window.scrollX +\n              parseInt(window.getComputedStyle(drag).width) / 2 +\n              canvas_div.scrollLeft,\n            y:\n              drag.getBoundingClientRect().top +\n              window.scrollY +\n              parseInt(window.getComputedStyle(drag).height) / 2 +\n              canvas_div.scrollTop,\n            width: parseInt(window.getComputedStyle(drag).width),\n            height: parseInt(window.getComputedStyle(drag).height)\n          })\n        } else if (active && blocks.length == 0) {\n          canvas_div.appendChild(document.querySelector('.indicator'))\n          drag.parentNode.removeChild(drag)\n        } else if (active || rearrange) {\n          var xpos =\n            drag.getBoundingClientRect().left +\n            window.scrollX +\n            parseInt(window.getComputedStyle(drag).width) / 2 +\n            canvas_div.scrollLeft\n          var ypos =\n            drag.getBoundingClientRect().top +\n            window.scrollY +\n            canvas_div.scrollTop\n          var blocko = blocks.map(a => a.id)\n          for (var i = 0; i < blocks.length; i++) {\n            if (\n              xpos >=\n                blocks.filter(a => a.id == blocko[i])[0].x -\n                  blocks.filter(a => a.id == blocko[i])[0].width / 2 -\n                  paddingx &&\n              xpos <=\n                blocks.filter(a => a.id == blocko[i])[0].x +\n                  blocks.filter(a => a.id == blocko[i])[0].width / 2 +\n                  paddingx &&\n              ypos >=\n                blocks.filter(a => a.id == blocko[i])[0].y -\n                  blocks.filter(a => a.id == blocko[i])[0].height / 2 &&\n              ypos <=\n                blocks.filter(a => a.id == blocko[i])[0].y +\n                  blocks.filter(a => a.id == blocko[i])[0].height\n            ) {\n              active = false\n              if (\n                !rearrange &&\n                blockSnap(\n                  drag,\n                  false,\n                  blocks.filter(id => id.id == blocko[i])[0]\n                )\n              ) {\n                snap(drag, i, blocko)\n              } else if (rearrange) {\n                snap(drag, i, blocko)\n              }\n              break\n            } else if (i == blocks.length - 1) {\n              if (rearrange) {\n                rearrange = false\n                blockstemp = []\n              }\n              active = false\n              canvas_div.appendChild(document.querySelector('.indicator'))\n              drag.parentNode.removeChild(drag)\n            }\n          }\n        }\n      }\n    }\n\n    document.addEventListener('mouseup', flowy.endDrag, false)\n    document.addEventListener('touchend', flowy.endDrag, false)\n\n    function snap(drag, i, blocko) {\n      if (!rearrange) {\n        canvas_div.appendChild(drag)\n      }\n      var totalwidth = 0\n      var totalremove = 0\n      var maxheight = 0\n      for (\n        var w = 0;\n        w < blocks.filter(id => id.parent == blocko[i]).length;\n        w++\n      ) {\n        var children = blocks.filter(id => id.parent == blocko[i])[w]\n        if (children.childwidth > children.width) {\n          totalwidth += children.childwidth + paddingx\n        } else {\n          totalwidth += children.width + paddingx\n        }\n      }\n      totalwidth += parseInt(window.getComputedStyle(drag).width)\n      for (\n        var w = 0;\n        w < blocks.filter(id => id.parent == blocko[i]).length;\n        w++\n      ) {\n        var children = blocks.filter(id => id.parent == blocko[i])[w]\n        if (children.childwidth > children.width) {\n          document.querySelector(\n            \".blockid[value='\" + children.id + \"']\"\n          ).parentNode.style.left =\n            blocks.filter(a => a.id == blocko[i])[0].x -\n            totalwidth / 2 +\n            totalremove +\n            children.childwidth / 2 -\n            children.width / 2 +\n            'px'\n          children.x =\n            blocks.filter(id => id.parent == blocko[i])[0].x -\n            totalwidth / 2 +\n            totalremove +\n            children.childwidth / 2\n          totalremove += children.childwidth + paddingx\n        } else {\n          document.querySelector(\n            \".blockid[value='\" + children.id + \"']\"\n          ).parentNode.style.left =\n            blocks.filter(a => a.id == blocko[i])[0].x -\n            totalwidth / 2 +\n            totalremove +\n            'px'\n          children.x =\n            blocks.filter(id => id.parent == blocko[i])[0].x -\n            totalwidth / 2 +\n            totalremove +\n            children.width / 2\n          totalremove += children.width + paddingx\n        }\n      }\n      drag.style.left =\n        blocks.filter(id => id.id == blocko[i])[0].x -\n        totalwidth / 2 +\n        totalremove -\n        (canvas_div.getBoundingClientRect().left + window.scrollX) +\n        canvas_div.scrollLeft +\n        'px'\n      drag.style.top =\n        blocks.filter(id => id.id == blocko[i])[0].y +\n        blocks.filter(id => id.id == blocko[i])[0].height / 2 +\n        paddingy -\n        (canvas_div.getBoundingClientRect().top + window.scrollY) +\n        'px'\n      if (rearrange) {\n        blockstemp.filter(\n          a => a.id == parseInt(drag.querySelector('.blockid').value)\n        )[0].x =\n          drag.getBoundingClientRect().left +\n          window.scrollX +\n          parseInt(window.getComputedStyle(drag).width) / 2 +\n          canvas_div.scrollLeft +\n          canvas_div.scrollLeft\n        blockstemp.filter(\n          a => a.id == parseInt(drag.querySelector('.blockid').value)\n        )[0].y =\n          drag.getBoundingClientRect().top +\n          window.scrollY +\n          parseInt(window.getComputedStyle(drag).height) / 2 +\n          canvas_div.scrollTop\n        blockstemp.filter(\n          a => a.id == drag.querySelector('.blockid').value\n        )[0].parent = blocko[i]\n        for (var w = 0; w < blockstemp.length; w++) {\n          if (\n            blockstemp[w].id != parseInt(drag.querySelector('.blockid').value)\n          ) {\n            const blockParent = document.querySelector(\n              \".blockid[value='\" + blockstemp[w].id + \"']\"\n            ).parentNode\n            const arrowParent = document.querySelector(\n              \".arrowid[value='\" + blockstemp[w].id + \"']\"\n            ).parentNode\n            blockParent.style.left =\n              blockParent.getBoundingClientRect().left +\n              window.scrollX -\n              (canvas_div.getBoundingClientRect().left + window.scrollX) +\n              canvas_div.scrollLeft +\n              'px'\n            blockParent.style.top =\n              blockParent.getBoundingClientRect().top +\n              window.scrollY -\n              (canvas_div.getBoundingClientRect().top + window.scrollY) +\n              canvas_div.scrollTop +\n              'px'\n            arrowParent.style.left =\n              arrowParent.getBoundingClientRect().left +\n              window.scrollX -\n              (canvas_div.getBoundingClientRect().left + window.scrollX) +\n              canvas_div.scrollLeft +\n              20 +\n              'px'\n            arrowParent.style.top =\n              arrowParent.getBoundingClientRect().top +\n              window.scrollY -\n              (canvas_div.getBoundingClientRect().top + window.scrollY) +\n              canvas_div.scrollTop +\n              'px'\n            canvas_div.appendChild(blockParent)\n            canvas_div.appendChild(arrowParent)\n\n            blockstemp[w].x =\n              blockParent.getBoundingClientRect().left +\n              window.scrollX +\n              parseInt(window.getComputedStyle(blockParent).width) / 2 +\n              canvas_div.scrollLeft\n            blockstemp[w].y =\n              blockParent.getBoundingClientRect().top +\n              window.scrollY +\n              parseInt(window.getComputedStyle(blockParent).height) / 2 +\n              canvas_div.scrollTop\n          }\n        }\n        blocks = blocks.concat(blockstemp)\n        blockstemp = []\n      } else {\n        blocks.push({\n          childwidth: 0,\n          parent: blocko[i],\n          id: parseInt(drag.querySelector('.blockid').value),\n          x:\n            drag.getBoundingClientRect().left +\n            window.scrollX +\n            parseInt(window.getComputedStyle(drag).width) / 2 +\n            canvas_div.scrollLeft,\n          y:\n            drag.getBoundingClientRect().top +\n            window.scrollY +\n            parseInt(window.getComputedStyle(drag).height) / 2 +\n            canvas_div.scrollTop,\n          width: parseInt(window.getComputedStyle(drag).width),\n          height: parseInt(window.getComputedStyle(drag).height)\n        })\n      }\n      var arrowhelp = blocks.filter(\n        a => a.id == parseInt(drag.querySelector('.blockid').value)\n      )[0]\n      var arrowx = arrowhelp.x - blocks.filter(a => a.id == blocko[i])[0].x + 20\n      var arrowy = parseFloat(\n        arrowhelp.y -\n          arrowhelp.height / 2 -\n          (blocks.filter(id => id.parent == blocko[i])[0].y +\n            blocks.filter(id => id.parent == blocko[i])[0].height / 2) +\n          canvas_div.scrollTop\n      )\n      if (arrowx < 0) {\n        canvas_div.innerHTML +=\n          '<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"' +\n          drag.querySelector('.blockid').value +\n          '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M' +\n          (blocks.filter(a => a.id == blocko[i])[0].x - arrowhelp.x + 5) +\n          ' 0L' +\n          (blocks.filter(a => a.id == blocko[i])[0].x - arrowhelp.x + 5) +\n          ' ' +\n          paddingy / 2 +\n          'L5 ' +\n          paddingy / 2 +\n          'L5 ' +\n          arrowy +\n          '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 ' +\n          (arrowy - 5) +\n          'H10L5 ' +\n          arrowy +\n          'L0 ' +\n          (arrowy - 5) +\n          'Z\" fill=\"#C5CCD0\"/></svg></div>'\n        document.querySelector(\n          '.arrowid[value=\"' + drag.querySelector('.blockid').value + '\"]'\n        ).parentNode.style.left =\n          arrowhelp.x -\n          5 -\n          (canvas_div.getBoundingClientRect().left + window.scrollX) +\n          canvas_div.scrollLeft +\n          'px'\n      } else {\n        canvas_div.innerHTML +=\n          '<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"' +\n          drag.querySelector('.blockid').value +\n          '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 ' +\n          paddingy / 2 +\n          'L' +\n          arrowx +\n          ' ' +\n          paddingy / 2 +\n          'L' +\n          arrowx +\n          ' ' +\n          arrowy +\n          '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M' +\n          (arrowx - 5) +\n          ' ' +\n          (arrowy - 5) +\n          'H' +\n          (arrowx + 5) +\n          'L' +\n          arrowx +\n          ' ' +\n          arrowy +\n          'L' +\n          (arrowx - 5) +\n          ' ' +\n          (arrowy - 5) +\n          'Z\" fill=\"#C5CCD0\"/></svg></div>'\n        document.querySelector(\n          '.arrowid[value=\"' +\n            parseInt(drag.querySelector('.blockid').value) +\n            '\"]'\n        ).parentNode.style.left =\n          blocks.filter(a => a.id == blocko[i])[0].x -\n          20 -\n          (canvas_div.getBoundingClientRect().left + window.scrollX) +\n          canvas_div.scrollLeft +\n          'px'\n      }\n      document.querySelector(\n        '.arrowid[value=\"' +\n          parseInt(drag.querySelector('.blockid').value) +\n          '\"]'\n      ).parentNode.style.top =\n        blocks.filter(a => a.id == blocko[i])[0].y +\n        blocks.filter(a => a.id == blocko[i])[0].height / 2 +\n        'px'\n      if (blocks.filter(a => a.id == blocko[i])[0].parent != -1) {\n        var flag = false\n        var idval = blocko[i]\n        while (!flag) {\n          if (blocks.filter(a => a.id == idval)[0].parent == -1) {\n            flag = true\n          } else {\n            var zwidth = 0\n            for (\n              var w = 0;\n              w < blocks.filter(id => id.parent == idval).length;\n              w++\n            ) {\n              var children = blocks.filter(id => id.parent == idval)[w]\n              if (children.childwidth > children.width) {\n                if (w == blocks.filter(id => id.parent == idval).length - 1) {\n                  zwidth += children.childwidth\n                } else {\n                  zwidth += children.childwidth + paddingx\n                }\n              } else {\n                if (w == blocks.filter(id => id.parent == idval).length - 1) {\n                  zwidth += children.width\n                } else {\n                  zwidth += children.width + paddingx\n                }\n              }\n            }\n            blocks.filter(a => a.id == idval)[0].childwidth = zwidth\n            idval = blocks.filter(a => a.id == idval)[0].parent\n          }\n        }\n        blocks.filter(id => id.id == idval)[0].childwidth = totalwidth\n      }\n      if (rearrange) {\n        rearrange = false\n        drag.classList.remove('dragging')\n      }\n      rearrangeMe()\n      checkOffset()\n    }\n\n    function touchblock(event) {\n      dragblock = false\n      if (hasParentClass(event.target, 'block')) {\n        var theblock = event.target.closest('.block')\n        if (event.targetTouches) {\n          mouse_x = event.targetTouches[0].clientX\n          mouse_y = event.targetTouches[0].clientY\n        } else {\n          mouse_x = event.clientX\n          mouse_y = event.clientY\n        }\n        if (event.type !== 'mouseup' && hasParentClass(event.target, 'block')) {\n          if (event.which != 3) {\n            if (!active && !rearrange) {\n              dragblock = true\n              drag = theblock\n              dragx =\n                mouse_x - (drag.getBoundingClientRect().left + window.scrollX)\n              dragy =\n                mouse_y - (drag.getBoundingClientRect().top + window.scrollY)\n            }\n          }\n        }\n      }\n    }\n\n    function hasParentClass(element, classname) {\n      if (element.className) {\n        if (element.className.split(' ').indexOf(classname) >= 0) return true\n      }\n      return element.parentNode && hasParentClass(element.parentNode, classname)\n    }\n\n    flowy.moveBlock = function (event) {\n      if (event.targetTouches) {\n        mouse_x = event.targetTouches[0].clientX\n        mouse_y = event.targetTouches[0].clientY\n      } else {\n        mouse_x = event.clientX\n        mouse_y = event.clientY\n      }\n      if (dragblock) {\n        rearrange = true\n        drag.classList.add('dragging')\n        var blockid = parseInt(drag.querySelector('.blockid').value)\n        blockstemp.push(blocks.filter(a => a.id == blockid)[0])\n        blocks = blocks.filter(function (e) {\n          return e.id != blockid\n        })\n        if (blockid != 0) {\n          document\n            .querySelector(\".arrowid[value='\" + blockid + \"']\")\n            .parentNode.remove()\n        }\n        var layer = blocks.filter(a => a.parent == blockid)\n        var flag = false\n        var foundids = []\n        var allids = []\n        while (!flag) {\n          for (var i = 0; i < layer.length; i++) {\n            if (layer[i] != blockid) {\n              blockstemp.push(blocks.filter(a => a.id == layer[i].id)[0])\n              const blockParent = document.querySelector(\n                \".blockid[value='\" + layer[i].id + \"']\"\n              ).parentNode\n              const arrowParent = document.querySelector(\n                \".arrowid[value='\" + layer[i].id + \"']\"\n              ).parentNode\n              blockParent.style.left =\n                blockParent.getBoundingClientRect().left +\n                window.scrollX -\n                (drag.getBoundingClientRect().left + window.scrollX) +\n                'px'\n              blockParent.style.top =\n                blockParent.getBoundingClientRect().top +\n                window.scrollY -\n                (drag.getBoundingClientRect().top + window.scrollY) +\n                'px'\n              arrowParent.style.left =\n                arrowParent.getBoundingClientRect().left +\n                window.scrollX -\n                (drag.getBoundingClientRect().left + window.scrollX) +\n                'px'\n              arrowParent.style.top =\n                arrowParent.getBoundingClientRect().top +\n                window.scrollY -\n                (drag.getBoundingClientRect().top + window.scrollY) +\n                'px'\n              drag.appendChild(blockParent)\n              drag.appendChild(arrowParent)\n              foundids.push(layer[i].id)\n              allids.push(layer[i].id)\n            }\n          }\n          if (foundids.length == 0) {\n            flag = true\n          } else {\n            layer = blocks.filter(a => foundids.includes(a.parent))\n            foundids = []\n          }\n        }\n        for (\n          var i = 0;\n          i < blocks.filter(a => a.parent == blockid).length;\n          i++\n        ) {\n          var blocknumber = blocks.filter(a => a.parent == blockid)[i]\n          blocks = blocks.filter(function (e) {\n            return e.id != blocknumber\n          })\n        }\n        for (var i = 0; i < allids.length; i++) {\n          var blocknumber = allids[i]\n          blocks = blocks.filter(function (e) {\n            return e.id != blocknumber\n          })\n        }\n        if (blocks.length > 1) {\n          rearrangeMe()\n        }\n        if (lastevent) {\n          fixOffset()\n        }\n        dragblock = false\n      }\n      if (active) {\n        drag.style.left = mouse_x - dragx + 'px'\n        drag.style.top = mouse_y - dragy + 'px'\n      } else if (rearrange) {\n        drag.style.left =\n          mouse_x -\n          dragx -\n          (canvas_div.getBoundingClientRect().left + window.scrollX) +\n          canvas_div.scrollLeft +\n          'px'\n        drag.style.top =\n          mouse_y -\n          dragy -\n          (canvas_div.getBoundingClientRect().top + window.scrollY) +\n          canvas_div.scrollTop +\n          'px'\n        blockstemp.filter(\n          a => a.id == parseInt(drag.querySelector('.blockid').value)\n        ).x =\n          drag.getBoundingClientRect().left +\n          window.scrollX +\n          parseInt(window.getComputedStyle(drag).width) / 2 +\n          canvas_div.scrollLeft\n        blockstemp.filter(\n          a => a.id == parseInt(drag.querySelector('.blockid').value)\n        ).y =\n          drag.getBoundingClientRect().left +\n          window.scrollX +\n          parseInt(window.getComputedStyle(drag).height) / 2 +\n          canvas_div.scrollTop\n      }\n      if (active || rearrange) {\n        var xpos =\n          drag.getBoundingClientRect().left +\n          window.scrollX +\n          parseInt(window.getComputedStyle(drag).width) / 2 +\n          canvas_div.scrollLeft\n        var ypos =\n          drag.getBoundingClientRect().top +\n          window.scrollY +\n          canvas_div.scrollTop\n        var blocko = blocks.map(a => a.id)\n        for (var i = 0; i < blocks.length; i++) {\n          if (\n            xpos >=\n              blocks.filter(a => a.id == blocko[i])[0].x -\n                blocks.filter(a => a.id == blocko[i])[0].width / 2 -\n                paddingx &&\n            xpos <=\n              blocks.filter(a => a.id == blocko[i])[0].x +\n                blocks.filter(a => a.id == blocko[i])[0].width / 2 +\n                paddingx &&\n            ypos >=\n              blocks.filter(a => a.id == blocko[i])[0].y -\n                blocks.filter(a => a.id == blocko[i])[0].height / 2 &&\n            ypos <=\n              blocks.filter(a => a.id == blocko[i])[0].y +\n                blocks.filter(a => a.id == blocko[i])[0].height\n          ) {\n            document\n              .querySelector(\".blockid[value='\" + blocko[i] + \"']\")\n              .parentNode.appendChild(document.querySelector('.indicator'))\n            document.querySelector('.indicator').style.left =\n              parseInt(\n                window.getComputedStyle(\n                  document.querySelector(\".blockid[value='\" + blocko[i] + \"']\")\n                    .parentNode\n                ).width\n              ) /\n                2 -\n              5 +\n              'px'\n            document.querySelector('.indicator').style.top =\n              window.getComputedStyle(\n                document.querySelector(\".blockid[value='\" + blocko[i] + \"']\")\n                  .parentNode\n              ).height + 'px'\n            document.querySelector('.indicator').classList.remove('invisible')\n            break\n          } else if (i == blocks.length - 1) {\n            if (\n              !document\n                .querySelector('.indicator')\n                .classList.contains('invisible')\n            ) {\n              document.querySelector('.indicator').classList.add('invisible')\n            }\n          }\n        }\n      }\n    }\n\n    document.addEventListener('mousemove', flowy.moveBlock, false)\n    document.addEventListener('touchmove', flowy.moveBlock, false)\n\n    function checkOffset() {\n      offsetleft = blocks.map(a => a.x)\n      var widths = blocks.map(a => a.width)\n      var mathmin = offsetleft.map(function (item, index) {\n        return item - widths[index] / 2\n      })\n      offsetleft = Math.min.apply(Math, mathmin)\n      if (\n        offsetleft <\n        canvas_div.getBoundingClientRect().left + window.scrollX\n      ) {\n        lastevent = true\n        var blocko = blocks.map(a => a.id)\n        for (var w = 0; w < blocks.length; w++) {\n          document.querySelector(\n            \".blockid[value='\" +\n              blocks.filter(a => a.id == blocko[w])[0].id +\n              \"']\"\n          ).parentNode.style.left =\n            blocks.filter(a => a.id == blocko[w])[0].x -\n            blocks.filter(a => a.id == blocko[w])[0].width / 2 -\n            offsetleft +\n            20 +\n            'px'\n          if (blocks.filter(a => a.id == blocko[w])[0].parent != -1) {\n            var arrowhelp = blocks.filter(a => a.id == blocko[w])[0]\n            var arrowx =\n              arrowhelp.x -\n              blocks.filter(\n                a => a.id == blocks.filter(a => a.id == blocko[w])[0].parent\n              )[0].x\n            if (arrowx < 0) {\n              document.querySelector(\n                '.arrowid[value=\"' + blocko[w] + '\"]'\n              ).parentNode.style.left = arrowhelp.x - offsetleft + 20 - 5 + 'px'\n            } else {\n              document.querySelector(\n                '.arrowid[value=\"' + blocko[w] + '\"]'\n              ).parentNode.style.left =\n                blocks.filter(\n                  id => id.id == blocks.filter(a => a.id == blocko[w])[0].parent\n                )[0].x -\n                20 -\n                offsetleft +\n                20 +\n                'px'\n            }\n          }\n        }\n        for (var w = 0; w < blocks.length; w++) {\n          blocks[w].x =\n            document\n              .querySelector(\".blockid[value='\" + blocks[w].id + \"']\")\n              .parentNode.getBoundingClientRect().left +\n            window.scrollX +\n            (canvas_div.getBoundingClientRect().left + canvas_div.scrollLeft) -\n            parseInt(\n              window.getComputedStyle(\n                document.querySelector(\".blockid[value='\" + blocks[w].id + \"']\")\n                  .parentNode\n              ).width\n            ) /\n              2 -\n            40\n        }\n        offsetleftold = offsetleft\n      }\n    }\n\n    function fixOffset() {\n      if (\n        offsetleftold <\n        canvas_div.getBoundingClientRect().left + window.scrollX\n      ) {\n        lastevent = false\n        var blocko = blocks.map(a => a.id)\n        for (var w = 0; w < blocks.length; w++) {\n          document.querySelector(\n            \".blockid[value='\" +\n              blocks.filter(a => a.id == blocko[w])[0].id +\n              \"']\"\n          ).parentNode.style.left =\n            blocks.filter(a => a.id == blocko[w])[0].x -\n            blocks.filter(a => a.id == blocko[w])[0].width / 2 -\n            offsetleftold -\n            20 +\n            'px'\n          blocks.filter(a => a.id == blocko[w])[0].x =\n            document\n              .querySelector(\n                \".blockid[value='\" +\n                  blocks.filter(a => a.id == blocko[w])[0].id +\n                  \"']\"\n              )\n              .parentNode.getBoundingClientRect().left +\n            window.scrollX +\n            blocks.filter(a => a.id == blocko[w])[0].width / 2\n\n          if (blocks.filter(a => a.id == blocko[w])[0].parent != -1) {\n            var arrowhelp = blocks.filter(a => a.id == blocko[w])[0]\n            var arrowx =\n              arrowhelp.x -\n              blocks.filter(\n                a => a.id == blocks.filter(a => a.id == blocko[w])[0].parent\n              )[0].x\n            if (arrowx < 0) {\n              document.querySelector(\n                '.arrowid[value=\"' + blocko[w] + '\"]'\n              ).parentNode.style.left =\n                arrowhelp.x -\n                5 -\n                (canvas_div.getBoundingClientRect().left + window.scrollX) +\n                'px'\n            } else {\n              document.querySelector(\n                '.arrowid[value=\"' + blocko[w] + '\"]'\n              ).parentNode.style.left =\n                blocks.filter(\n                  id => id.id == blocks.filter(a => a.id == blocko[w])[0].parent\n                )[0].x -\n                20 -\n                (canvas_div.getBoundingClientRect().left + window.scrollX) +\n                'px'\n            }\n          }\n        }\n        offsetleftold = 0\n      }\n    }\n\n    function rearrangeMe() {\n      var result = blocks.map(a => a.parent)\n      for (var z = 0; z < result.length; z++) {\n        if (result[z] == -1) {\n          z++\n        }\n        var totalwidth = 0\n        var totalremove = 0\n        var maxheight = 0\n        for (\n          var w = 0;\n          w < blocks.filter(id => id.parent == result[z]).length;\n          w++\n        ) {\n          var children = blocks.filter(id => id.parent == result[z])[w]\n          if (blocks.filter(id => id.parent == children.id).length == 0) {\n            children.childwidth = 0\n          }\n          if (children.childwidth > children.width) {\n            if (w == blocks.filter(id => id.parent == result[z]).length - 1) {\n              totalwidth += children.childwidth\n            } else {\n              totalwidth += children.childwidth + paddingx\n            }\n          } else {\n            if (w == blocks.filter(id => id.parent == result[z]).length - 1) {\n              totalwidth += children.width\n            } else {\n              totalwidth += children.width + paddingx\n            }\n          }\n        }\n        if (result[z] != -1) {\n          blocks.filter(a => a.id == result[z])[0].childwidth = totalwidth\n        }\n        for (\n          var w = 0;\n          w < blocks.filter(id => id.parent == result[z]).length;\n          w++\n        ) {\n          var children = blocks.filter(id => id.parent == result[z])[w]\n          const r_block = document.querySelector(\n            \".blockid[value='\" + children.id + \"']\"\n          ).parentNode\n          const r_array = blocks.filter(id => id.id == result[z])\n          r_block.style.top = r_array.y + paddingy + 'px'\n          r_array.y = r_array.y + paddingy\n          if (children.childwidth > children.width) {\n            r_block.style.left =\n              r_array[0].x -\n              totalwidth / 2 +\n              totalremove +\n              children.childwidth / 2 -\n              children.width / 2 -\n              (canvas_div.getBoundingClientRect().left + window.scrollX) +\n              'px'\n            children.x =\n              r_array[0].x -\n              totalwidth / 2 +\n              totalremove +\n              children.childwidth / 2\n            totalremove += children.childwidth + paddingx\n          } else {\n            r_block.style.left =\n              r_array[0].x -\n              totalwidth / 2 +\n              totalremove -\n              (canvas_div.getBoundingClientRect().left + window.scrollX) +\n              'px'\n            children.x =\n              r_array[0].x - totalwidth / 2 + totalremove + children.width / 2\n            totalremove += children.width + paddingx\n          }\n          var arrowhelp = blocks.filter(a => a.id == children.id)[0]\n          var arrowx =\n            arrowhelp.x - blocks.filter(a => a.id == children.parent)[0].x + 20\n          var arrowy =\n            arrowhelp.y -\n            arrowhelp.height / 2 -\n            (blocks.filter(a => a.id == children.parent)[0].y +\n              blocks.filter(a => a.id == children.parent)[0].height / 2)\n          document.querySelector(\n            '.arrowid[value=\"' + children.id + '\"]'\n          ).parentNode.style.top =\n            blocks.filter(id => id.id == children.parent)[0].y +\n            blocks.filter(id => id.id == children.parent)[0].height / 2 -\n            (canvas_div.getBoundingClientRect().top + window.scrollY) +\n            'px'\n          if (arrowx < 0) {\n            document.querySelector(\n              '.arrowid[value=\"' + children.id + '\"]'\n            ).parentNode.style.left =\n              arrowhelp.x -\n              5 -\n              (canvas_div.getBoundingClientRect().left + window.scrollX) +\n              'px'\n            document.querySelector(\n              '.arrowid[value=\"' + children.id + '\"]'\n            ).parentNode.innerHTML =\n              '<input type=\"hidden\" class=\"arrowid\" value=\"' +\n              children.id +\n              '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M' +\n              (blocks.filter(id => id.id == children.parent)[0].x -\n                arrowhelp.x +\n                5) +\n              ' 0L' +\n              (blocks.filter(id => id.id == children.parent)[0].x -\n                arrowhelp.x +\n                5) +\n              ' ' +\n              paddingy / 2 +\n              'L5 ' +\n              paddingy / 2 +\n              'L5 ' +\n              arrowy +\n              '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 ' +\n              (arrowy - 5) +\n              'H10L5 ' +\n              arrowy +\n              'L0 ' +\n              (arrowy - 5) +\n              'Z\" fill=\"#C5CCD0\"/></svg>'\n          } else {\n            document.querySelector(\n              '.arrowid[value=\"' + children.id + '\"]'\n            ).parentNode.style.left =\n              blocks.filter(id => id.id == children.parent)[0].x -\n              20 -\n              (canvas_div.getBoundingClientRect().left + window.scrollX) +\n              'px'\n            document.querySelector(\n              '.arrowid[value=\"' + children.id + '\"]'\n            ).parentNode.innerHTML =\n              '<input type=\"hidden\" class=\"arrowid\" value=\"' +\n              children.id +\n              '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 ' +\n              paddingy / 2 +\n              'L' +\n              arrowx +\n              ' ' +\n              paddingy / 2 +\n              'L' +\n              arrowx +\n              ' ' +\n              arrowy +\n              '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M' +\n              (arrowx - 5) +\n              ' ' +\n              (arrowy - 5) +\n              'H' +\n              (arrowx + 5) +\n              'L' +\n              arrowx +\n              ' ' +\n              arrowy +\n              'L' +\n              (arrowx - 5) +\n              ' ' +\n              (arrowy - 5) +\n              'Z\" fill=\"#C5CCD0\"/></svg>'\n          }\n        }\n      }\n    }\n  }\n  flowy.load()\n\n  function blockGrabbed(block) {\n    grab(block)\n  }\n\n  function blockReleased() {\n    release()\n  }\n\n  function blockSnap(drag, first, parent) {\n    return snapping(drag, first, parent)\n  }\n\n  function addEventListenerMulti(type, listener, capture, selector) {\n    var nodes = document.querySelectorAll(selector)\n    for (var i = 0; i < nodes.length; i++) {\n      nodes[i].addEventListener(type, listener, capture)\n    }\n  }\n\n  function removeEventListenerMulti(type, listener, capture, selector) {\n    var nodes = document.querySelectorAll(selector)\n    for (var i = 0; i < nodes.length; i++) {\n      nodes[i].removeEventListener(type, listener, capture)\n    }\n  }\n}\n\nexport default flowy\n"],"names":["flowy","canvas","grab","release","snapping","spacing_x","spacing_y","loaded","blockSnap","drag","first","parent","load","dragx","dragy","original","mouse_x","mouse_y","blocks","blockstemp","canvas_div","active","paddingx","paddingy","offsetleft","offsetleftold","rearrange","lastevent","dragblock","el","document","createElement","classList","add","appendChild","import","output","innerHTML","html","blockarr","rearrangeMe","json_data","length","i","push","id","data","attr","blockParent","querySelector","parentNode","querySelectorAll","forEach","block","json_name","getAttribute","name","value","Array","prototype","slice","call","attributes","attribute","jsonobj","deleteBlocks","beginDrag","event","targetTouches","changedTouches","clientX","clientY","which","target","closest","newNode","cloneNode","remove","body","Math","max","apply","map","a","parseInt","getBoundingClientRect","left","top","style","addEventListener","touchblock","touchDone","endDrag","contains","w","arrowParent","window","scrollX","scrollLeft","scrollY","scrollTop","x","offsetWidth","y","offsetHeight","filter","getComputedStyle","width","height","concat","undefined","childwidth","removeChild","xpos","ypos","blocko","snap","moveBlock","blockid","e","layer","flag","foundids","allids","includes","blocknumber","arrowhelp","arrowx","fixOffset","totalwidth","totalremove","children","arrowy","parseFloat","idval","zwidth","widths","mathmin","item","index","min","checkOffset","hasParentClass","theblock","type","element","classname","className","split","indexOf","result","z","r_block","r_array"],"mappings":"oKAAA,IAAIA,EAAQ,SAAUC,EAAQC,EAAMC,EAASC,EAAUC,EAAWC,GAC3DJ,IACHA,EAAO,cAEJC,IACHA,EAAU,cAEPC,IACHA,EAAW,kBACF,IAGNC,IACHA,EAAY,IAETC,IACHA,EAAY,QAEVC,GAAS,WAomCJC,EAAUC,EAAMC,EAAOC,UACvBP,EAASK,EAAMC,EAAOC,GApmC/BX,EAAMY,KAAO,eACNL,GAAQA,GAAS,MAYlBE,EAAMI,EAAOC,EAAOC,EACpBC,EAASC,EAXTC,EAAS,GACTC,EAAa,GACbC,EAAanB,EACboB,GAAS,EACTC,EAAWjB,EACXkB,EAAWjB,EACXkB,EAAa,EACbC,EAAgB,EAChBC,GAAY,EACZC,GAAY,EAGZC,GAAY,EACZC,EAAKC,SAASC,cAAc,OAChCF,EAAGG,UAAUC,IAAI,aACjBJ,EAAGG,UAAUC,IAAI,aACjBb,EAAWc,YAAYL,GACvB7B,EAAMmC,OAAS,SAAUC,GACvBhB,EAAWiB,UAAYD,EAAOE,KAC9BpB,EAASkB,EAAOG,SAChBC,KAEFxC,EAAMoC,OAAS,eAETK,EAAY,CAAEH,KADHlB,EAAWiB,UACQE,SAAUrB,EAAQA,OAAQ,OACxDA,EAAOwB,OAAS,EAAG,KAChB,IAAIC,EAAI,EAAGA,EAAIzB,EAAOwB,OAAQC,IAAK,CACtCF,EAAUvB,OAAO0B,KAAK,CACpBC,GAAI3B,EAAOyB,GAAGE,GACdlC,OAAQO,EAAOyB,GAAGhC,OAClBmC,KAAM,GACNC,KAAM,SAEJC,EAAclB,SAASmB,cACzB,mBAAqB/B,EAAOyB,GAAGE,GAAK,MACpCK,WACFF,EAAYG,iBAAiB,SAASC,QAAQ,SAAUC,OAClDC,EAAYD,EAAME,aAAa,QAEnCd,EAAUvB,OAAOyB,GAAGG,KAAKF,KAAK,CAC5BY,KAAMF,EACNG,MAHeJ,EAAMI,UAMzBC,MAAMC,UAAUC,MACbC,KAAKb,EAAYc,YACjBV,QAAQ,SAAUW,OACbC,EAAU,GACdA,EAAQD,EAAUP,MAAQO,EAAUN,MACpChB,EAAUvB,OAAOyB,GAAGI,KAAKH,KAAKoB,YAG7BvB,IAGXzC,EAAMiE,aAAe,WACnB/C,EAAS,GACTE,EAAWiB,UAAY,2CAGzBrC,EAAMkE,UAAY,SAAUC,MACtBA,EAAMC,eACRpD,EAAUmD,EAAME,eAAe,GAAGC,QAClCrD,EAAUkD,EAAME,eAAe,GAAGE,UAElCvD,EAAUmD,EAAMG,QAChBrD,EAAUkD,EAAMI,SAEC,GAAfJ,EAAMK,OAAcL,EAAMM,OAAOC,QAAQ,iBAAkB,CAC7D3D,EAAWoD,EAAMM,OAAOC,QAAQ,qBAC5BC,EAAUR,EAAMM,OAAOC,QAAQ,iBAAiBE,WAAU,GAC9DT,EAAMM,OAAOC,QAAQ,iBAAiB1C,UAAUC,IAAI,WACpD0C,EAAQ3C,UAAUC,IAAI,SACtB0C,EAAQ3C,UAAU6C,OAAO,gBACH,IAAlB3D,EAAOwB,QACTiC,EAAQtC,WACN,8DACAnB,EAAOwB,OACP,KACFZ,SAASgD,KAAK5C,YAAYyC,GAC1BlE,EAAOqB,SAASmB,cACd,mBAAqB/B,EAAOwB,OAAS,MACrCQ,aAEFyB,EAAQtC,WACN,+DACC0C,KAAKC,IAAIC,MACRF,KACA7D,EAAOgE,aAAIC,UAAKA,EAAEtC,MAElB,GACF,KACFf,SAASgD,KAAK5C,YAAYyC,GAC1BlE,EAAOqB,SAASmB,cACd,oBACGmC,SACCL,KAAKC,IAAIC,MACPF,KACA7D,EAAOgE,aAAIC,UAAKA,EAAEtC,OAGpB,GACF,MACFK,YAi/BYG,EA/+BHc,EAAMM,OAAOC,QAAQ,iBAg/BtCxE,EAAKmD,GA/+BD5C,EAAKuB,UAAUC,IAAI,YACnBZ,GAAS,EACTR,EACEG,EACAmD,EAAMM,OAAOC,QAAQ,iBAAiBW,wBAAwBC,KAChExE,EACEG,EACAkD,EAAMM,OAAOC,QAAQ,iBAAiBW,wBAAwBE,IAChE9E,EAAK+E,MAAMF,KAAOtE,EAAUH,EAAQ,KACpCJ,EAAK+E,MAAMD,IAAMtE,EAAUH,EAAQ,SAq+BnBuC,GAl+BpBvB,SAAS2D,iBAAiB,YAAaC,GAAY,GACnD5D,SAAS2D,iBAAiB,aAAcC,GAAY,GACpD5D,SAAS2D,iBAAiB,UAAWC,GAAY,GAEjD1F,EAAM2F,UAAY,WAChB/D,GAAY,GAEdE,SAAS2D,iBAAiB,YAAazF,EAAMkE,WAC7CpC,SAAS2D,iBAAiB,aAAczF,EAAMkE,WAE9ClE,EAAM4F,QAAU,SAAUzB,MACL,GAAfA,EAAMK,QAAenD,GAAUK,MACjCE,GAAY,EA29BhBzB,IAx9BO2B,SAASmB,cAAc,cAAcjB,UAAU6D,SAAS,cAEzD/D,SAASmB,cAAc,cAAcjB,UAAUC,IAAI,aAEjDZ,IACFN,EAASiB,UAAU6C,OAAO,WAC1BpE,EAAKuB,UAAU6C,OAAO,aAE+B,IAAnDO,SAAS3E,EAAKwC,cAAc,YAAYQ,QAAgB/B,EAAW,CACrEjB,EAAKuB,UAAU6C,OAAO,YACtBnD,GAAY,MACP,IAAIoE,EAAI,EAAGA,EAAI3E,EAAWuB,OAAQoD,OAEnC3E,EAAW2E,GAAGjD,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,OAC5D,KACMT,EAAclB,SAASmB,cAC3B,mBAAqB9B,EAAW2E,GAAGjD,GAAK,MACxCK,WACI6C,EAAcjE,SAASmB,cAC3B,mBAAqB9B,EAAW2E,GAAGjD,GAAK,MACxCK,WACFF,EAAYwC,MAAMF,KAChBtC,EAAYqC,wBAAwBC,KACpCU,OAAOC,SACN7E,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,KACFlD,EAAYwC,MAAMD,IAChBvC,EAAYqC,wBAAwBE,IACpCS,OAAOG,SACN/E,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD/E,EAAWgF,UACX,KACFL,EAAYP,MAAMF,KAChBS,EAAYV,wBAAwBC,KACpCU,OAAOC,SACN7E,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,KACFH,EAAYP,MAAMD,IAChBQ,EAAYV,wBAAwBE,IACpCS,OAAOG,SACN/E,EAAWiE,wBAAwBE,IAClCnE,EAAWgF,WACb,KACFhF,EAAWc,YAAYc,GACvB5B,EAAWc,YAAY6D,GACvB5E,EAAW2E,GAAGO,EACZrD,EAAYqC,wBAAwBC,KACpCU,OAAOC,QACPb,SAASpC,EAAYsD,aAAe,EACpClF,EAAW8E,WACb/E,EAAW2E,GAAGS,EACZvD,EAAYqC,wBAAwBE,IACpCS,OAAOG,QACPf,SAASpC,EAAYwD,cAAgB,EACrCpF,EAAWgF,UAGjBjF,EAAWsF,gBAAOtB,UAAa,GAARA,EAAEtC,KAAS,GAAGwD,EACnC5F,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAClDxF,EAAWsF,gBAAOtB,UAAa,GAARA,EAAEtC,KAAS,GAAG0D,EACnC9F,EAAK4E,wBAAwBE,IAC7BS,OAAOG,QACPf,SAASY,OAAOU,iBAAiBjG,GAAMmG,QAAU,EACnD1F,EAASA,EAAO2F,OAAO1F,GACvBA,EAAa,QACR,GACLE,GACiB,GAAjBH,EAAOwB,QACPjC,EAAK4E,wBAAwBE,IAAMS,OAAOG,QACxC/E,EAAWiE,wBAAwBE,IAAMS,OAAOG,SAClD1F,EAAK4E,wBAAwBC,KAAOU,OAAOC,QACzC7E,EAAWiE,wBAAwBC,KAAOU,OAAOC,QAEnDzF,EAAUC,GAAM,OAAMqG,GACtBzF,GAAS,EACTZ,EAAK+E,MAAMD,IACT9E,EAAK4E,wBAAwBE,IAC7BS,OAAOG,SACN/E,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD/E,EAAWgF,UACX,KACF3F,EAAK+E,MAAMF,KACT7E,EAAK4E,wBAAwBC,KAC7BU,OAAOC,SACN7E,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,KACF9E,EAAWc,YAAYzB,GACvBS,EAAO0B,KAAK,CACVjC,QAAS,EACToG,WAAY,EACZlE,GAAIuC,SAAS3E,EAAKwC,cAAc,YAAYQ,OAC5C4C,EACE5F,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAChDvF,EAAW8E,WACbK,EACE9F,EAAK4E,wBAAwBE,IAC7BS,OAAOG,QACPf,SAASY,OAAOU,iBAAiBjG,GAAMmG,QAAU,EACjDxF,EAAWgF,UACbO,MAAOvB,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAC9CC,OAAQxB,SAASY,OAAOU,iBAAiBjG,GAAMmG,eAE5C,GAAIvF,GAA2B,GAAjBH,EAAOwB,OAC1BtB,EAAWc,YAAYJ,SAASmB,cAAc,eAC9CxC,EAAKyC,WAAW8D,YAAYvG,QACvB,GAAIY,GAAUK,UACfuF,EACFxG,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAChDvF,EAAW8E,WACTgB,EACFzG,EAAK4E,wBAAwBE,IAC7BS,OAAOG,QACP/E,EAAWgF,UACTe,EAASjG,EAAOgE,aAAIC,UAAKA,EAAEtC,KACtBF,EAAI,EAAGA,EAAIzB,EAAOwB,OAAQC,IAAK,IAEpCsE,GACE/F,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACvCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGgE,MAAQ,EACjDrF,GACJ2F,GACE/F,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACvCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGgE,MAAQ,EACjDrF,GACJ4F,GACEhG,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG4D,EACvCrF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGiE,OAAS,GACtDM,GACEhG,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG4D,EACvCrF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGiE,OAC7C,CACAvF,GAAS,GAENK,GACDlB,EACEC,GACA,EACAS,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsE,EAAOxE,KAAI,IAG1CyE,EAAK3G,EAAMkC,EAAGwE,GACLzF,GACT0F,EAAK3G,EAAMkC,EAAGwE,SAGPxE,GAAKzB,EAAOwB,OAAS,IAC1BhB,IACFA,GAAY,EACZP,EAAa,IAEfE,GAAS,EACTD,EAAWc,YAAYJ,SAASmB,cAAc,eAC9CxC,EAAKyC,WAAW8D,YAAYvG,MAOtCqB,SAAS2D,iBAAiB,UAAWzF,EAAM4F,SAAS,GACpD9D,SAAS2D,iBAAiB,WAAYzF,EAAM4F,SAAS,GAsUrD5F,EAAMqH,UAAY,SAAUlD,MACtBA,EAAMC,eACRpD,EAAUmD,EAAMC,cAAc,GAAGE,QACjCrD,EAAUkD,EAAMC,cAAc,GAAGG,UAEjCvD,EAAUmD,EAAMG,QAChBrD,EAAUkD,EAAMI,SAEd3C,EAAW,CACbF,GAAY,EACZjB,EAAKuB,UAAUC,IAAI,gBACfqF,EAAUlC,SAAS3E,EAAKwC,cAAc,YAAYQ,OACtDtC,EAAWyB,KAAK1B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMyE,IAAS,IACpDpG,EAASA,EAAOuF,OAAO,SAAUc,UACxBA,EAAE1E,IAAMyE,IAEF,GAAXA,GACFxF,SACGmB,cAAc,mBAAqBqE,EAAU,MAC7CpE,WAAW2B,iBAEZ2C,EAAQtG,EAAOuF,gBAAOtB,UAAKA,EAAExE,QAAU2G,IACvCG,GAAO,EACPC,EAAW,GACXC,EAAS,IACLF,GAAM,KACP,IAAI9E,EAAI,EAAGA,EAAI6E,EAAM9E,OAAQC,OAC5B6E,EAAM7E,IAAM2E,EAAS,CACvBnG,EAAWyB,KAAK1B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAM2E,EAAM7E,GAAGE,KAAI,QAClDG,EAAclB,SAASmB,cAC3B,mBAAqBuE,EAAM7E,GAAGE,GAAK,MACnCK,WACI6C,EAAcjE,SAASmB,cAC3B,mBAAqBuE,EAAM7E,GAAGE,GAAK,MACnCK,WACFF,EAAYwC,MAAMF,KAChBtC,EAAYqC,wBAAwBC,KACpCU,OAAOC,SACNxF,EAAK4E,wBAAwBC,KAAOU,OAAOC,SAC5C,KACFjD,EAAYwC,MAAMD,IAChBvC,EAAYqC,wBAAwBE,IACpCS,OAAOG,SACN1F,EAAK4E,wBAAwBE,IAAMS,OAAOG,SAC3C,KACFJ,EAAYP,MAAMF,KAChBS,EAAYV,wBAAwBC,KACpCU,OAAOC,SACNxF,EAAK4E,wBAAwBC,KAAOU,OAAOC,SAC5C,KACFF,EAAYP,MAAMD,IAChBQ,EAAYV,wBAAwBE,IACpCS,OAAOG,SACN1F,EAAK4E,wBAAwBE,IAAMS,OAAOG,SAC3C,KACF1F,EAAKyB,YAAYc,GACjBvC,EAAKyB,YAAY6D,GACjB2B,EAAS9E,KAAK4E,EAAM7E,GAAGE,IACvB8E,EAAO/E,KAAK4E,EAAM7E,GAAGE,IAGF,GAAnB6E,EAAShF,OACX+E,GAAO,GAEPD,EAAQtG,EAAOuF,gBAAOtB,UAAKuC,EAASE,SAASzC,EAAExE,UAC/C+G,EAAW,QAIT/E,EAAI,EACRA,EAAIzB,EAAOuF,gBAAOtB,UAAKA,EAAExE,QAAU2G,IAAS5E,OAC5CC,IACA,KACIkF,EAAc3G,EAAOuF,gBAAOtB,UAAKA,EAAExE,QAAU2G,IAAS3E,GAC1DzB,EAASA,EAAOuF,OAAO,SAAUc,UACxBA,EAAE1E,IAAMgF,QAGVlF,EAAI,EAAGA,EAAIgF,EAAOjF,OAAQC,IAC7BkF,EAAcF,EAAOhF,GACzBzB,EAASA,EAAOuF,OAAO,SAAUc,UACxBA,EAAE1E,IAAMgF,IAGf3G,EAAOwB,OAAS,GAClBF,IAEEb,iBA2KJF,EACAL,EAAWiE,wBAAwBC,KAAOU,OAAOC,QACjD,CACAtE,GAAY,UACRwF,EAASjG,EAAOgE,aAAIC,UAAKA,EAAEtC,KACtBiD,EAAI,EAAGA,EAAI5E,EAAOwB,OAAQoD,OACjChE,SAASmB,cACP,mBACE/B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGjD,GACzC,MACFK,WAAWsC,MAAMF,KACjBpE,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGO,EACzCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGa,MAAQ,EACjDlF,EACA,GACA,KACFP,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGO,EACvCvE,SACGmB,cACC,mBACE/B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGjD,GACzC,MAEHK,WAAWmC,wBAAwBC,KACtCU,OAAOC,QACP/E,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGa,MAAQ,GAEK,GAApDzF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGnF,OAAc,KACrDmH,EAAY5G,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAClDiC,EACFD,EAAUzB,EACVnF,EAAOuF,gBACLtB,UAAKA,EAAEtC,IAAM3B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGnF,SACtD,GAAG0F,EAELvE,SAASmB,cACP,mBAAqBkE,EAAOrB,GAAK,MACjC5C,WAAWsC,MAAMF,KAHjByC,EAAS,EAITD,EAAUzB,EACV,GACCjF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD,KAKA/E,EAAOuF,gBACL5D,UAAMA,EAAGA,IAAM3B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGnF,SACxD,GAAG0F,EACL,IACCjF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD,KAIRxE,EAAgB,GAjOduG,GAEFpG,GAAY,KAEVP,GACFZ,EAAK+E,MAAMF,KAAOtE,EAAUH,EAAQ,KACpCJ,EAAK+E,MAAMD,IAAMtE,EAAUH,EAAQ,MAC1BY,IACTjB,EAAK+E,MAAMF,KACTtE,EACAH,GACCO,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,KACFzF,EAAK+E,MAAMD,IACTtE,EACAH,GACCM,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD/E,EAAWgF,UACX,KACFjF,EAAWsF,gBACTtB,UAAKA,EAAEtC,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,SACrD4C,EACA5F,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAChDvF,EAAW8E,WACb/E,EAAWsF,gBACTtB,UAAKA,EAAEtC,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,SACrD8C,EACA9F,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMmG,QAAU,EACjDxF,EAAWgF,WAEX/E,GAAUK,OACRuF,EACFxG,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAChDvF,EAAW8E,WACTgB,EACFzG,EAAK4E,wBAAwBE,IAC7BS,OAAOG,QACP/E,EAAWgF,UACTe,EAASjG,EAAOgE,aAAIC,UAAKA,EAAEtC,SACtBF,EAAI,EAAGA,EAAIzB,EAAOwB,OAAQC,IAAK,IAEpCsE,GACE/F,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACvCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGgE,MAAQ,EACjDrF,GACJ2F,GACE/F,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACvCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGgE,MAAQ,EACjDrF,GACJ4F,GACEhG,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG4D,EACvCrF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGiE,OAAS,GACtDM,GACEhG,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG4D,EACvCrF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGiE,OAC7C,CACA9E,SACGmB,cAAc,mBAAqBkE,EAAOxE,GAAK,MAC/CO,WAAWhB,YAAYJ,SAASmB,cAAc,eACjDnB,SAASmB,cAAc,cAAcuC,MAAMF,KACzCF,SACEY,OAAOU,iBACL5E,SAASmB,cAAc,mBAAqBkE,EAAOxE,GAAK,MACrDO,YACHyD,OAEF,EACF,EACA,KACF7E,SAASmB,cAAc,cAAcuC,MAAMD,IACzCS,OAAOU,iBACL5E,SAASmB,cAAc,mBAAqBkE,EAAOxE,GAAK,MACrDO,YACH0D,OAAS,KACb9E,SAASmB,cAAc,cAAcjB,UAAU6C,OAAO,mBAE7ClC,GAAKzB,EAAOwB,OAAS,IAE3BZ,SACEmB,cAAc,cACdjB,UAAU6D,SAAS,cAEtB/D,SAASmB,cAAc,cAAcjB,UAAUC,IAAI,iBAO7DH,SAAS2D,iBAAiB,YAAazF,EAAMqH,WAAW,GACxDvF,SAAS2D,iBAAiB,YAAazF,EAAMqH,WAAW,YA7f/CD,EAAK3G,EAAMkC,EAAGwE,GAChBzF,GACHN,EAAWc,YAAYzB,WAErBwH,EAAa,EACbC,EAAc,EAGZpC,EAAI,EACRA,EAAI5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAID,OAChDoD,IAIEmC,IAFEE,EAAWjH,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAImD,IAC9CiB,WAAaoB,EAASxB,MACnBwB,EAASpB,WAAazF,EAEtB6G,EAASxB,MAAQrF,MAGnC2G,GAAc7C,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAE/Cb,EAAI,EACRA,EAAI5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAID,OAChDoD,KAEIqC,EAAWjH,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAImD,IAC9CiB,WAAaoB,EAASxB,OACjC7E,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWsC,MAAMF,KACjBpE,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACzC4B,EAAa,EACbC,EACAC,EAASpB,WAAa,EACtBoB,EAASxB,MAAQ,EACjB,KACFwB,EAAS9B,EACPnF,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAI,GAAG0D,EAC/C4B,EAAa,EACbC,EACAC,EAASpB,WAAa,EACxBmB,GAAeC,EAASpB,WAAazF,IAErCQ,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWsC,MAAMF,KACjBpE,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACzC4B,EAAa,EACbC,EACA,KACFC,EAAS9B,EACPnF,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAI,GAAG0D,EAC/C4B,EAAa,EACbC,EACAC,EAASxB,MAAQ,EACnBuB,GAAeC,EAASxB,MAAQrF,MAGpCb,EAAK+E,MAAMF,KACTpE,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsE,EAAOxE,KAAI,GAAG0D,EAC3C4B,EAAa,EACbC,GACC9G,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,KACFzF,EAAK+E,MAAMD,IACTrE,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsE,EAAOxE,KAAI,GAAG4D,EAC3CrF,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsE,EAAOxE,KAAI,GAAGiE,OAAS,EACpDrF,GACCH,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD,KACEzE,EAAW,KACbP,EAAWsF,gBACTtB,UAAKA,EAAEtC,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,SACrD,GAAG4C,EACH5F,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAChDvF,EAAW8E,WACX9E,EAAW8E,WACb/E,EAAWsF,gBACTtB,UAAKA,EAAEtC,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,SACrD,GAAG8C,EACH9F,EAAK4E,wBAAwBE,IAC7BS,OAAOG,QACPf,SAASY,OAAOU,iBAAiBjG,GAAMmG,QAAU,EACjDxF,EAAWgF,UACbjF,EAAWsF,gBACTtB,UAAKA,EAAEtC,IAAMpC,EAAKwC,cAAc,YAAYQ,QAC5C,GAAG9C,OAASwG,EAAOxE,GACZmD,EAAI,EAAGA,EAAI3E,EAAWuB,OAAQoD,OAEnC3E,EAAW2E,GAAGjD,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,OAC5D,KACMT,EAAclB,SAASmB,cAC3B,mBAAqB9B,EAAW2E,GAAGjD,GAAK,MACxCK,WACI6C,EAAcjE,SAASmB,cAC3B,mBAAqB9B,EAAW2E,GAAGjD,GAAK,MACxCK,WACFF,EAAYwC,MAAMF,KAChBtC,EAAYqC,wBAAwBC,KACpCU,OAAOC,SACN7E,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,KACFlD,EAAYwC,MAAMD,IAChBvC,EAAYqC,wBAAwBE,IACpCS,OAAOG,SACN/E,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD/E,EAAWgF,UACX,KACFL,EAAYP,MAAMF,KAChBS,EAAYV,wBAAwBC,KACpCU,OAAOC,SACN7E,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,GACA,KACFH,EAAYP,MAAMD,IAChBQ,EAAYV,wBAAwBE,IACpCS,OAAOG,SACN/E,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD/E,EAAWgF,UACX,KACFhF,EAAWc,YAAYc,GACvB5B,EAAWc,YAAY6D,GAEvB5E,EAAW2E,GAAGO,EACZrD,EAAYqC,wBAAwBC,KACpCU,OAAOC,QACPb,SAASY,OAAOU,iBAAiB1D,GAAa2D,OAAS,EACvDvF,EAAW8E,WACb/E,EAAW2E,GAAGS,EACZvD,EAAYqC,wBAAwBE,IACpCS,OAAOG,QACPf,SAASY,OAAOU,iBAAiB1D,GAAa4D,QAAU,EACxDxF,EAAWgF,UAGjBlF,EAASA,EAAO2F,OAAO1F,GACvBA,EAAa,QAEbD,EAAO0B,KAAK,CACVmE,WAAY,EACZpG,OAAQwG,EAAOxE,GACfE,GAAIuC,SAAS3E,EAAKwC,cAAc,YAAYQ,OAC5C4C,EACE5F,EAAK4E,wBAAwBC,KAC7BU,OAAOC,QACPb,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAAS,EAChDvF,EAAW8E,WACbK,EACE9F,EAAK4E,wBAAwBE,IAC7BS,OAAOG,QACPf,SAASY,OAAOU,iBAAiBjG,GAAMmG,QAAU,EACjDxF,EAAWgF,UACbO,MAAOvB,SAASY,OAAOU,iBAAiBjG,GAAMkG,OAC9CC,OAAQxB,SAASY,OAAOU,iBAAiBjG,GAAMmG,cAG/CkB,EAAY5G,EAAOuF,gBACrBtB,UAAKA,EAAEtC,IAAMuC,SAAS3E,EAAKwC,cAAc,YAAYQ,SACrD,GACEsE,EAASD,EAAUzB,EAAInF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EAAI,GACpE+B,EAASC,WACXP,EAAUvB,EACRuB,EAAUlB,OAAS,GAClB1F,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAI,GAAG4D,EAC9CrF,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwG,EAAOxE,KAAI,GAAGiE,OAAS,GAC1DxF,EAAWgF,cAEX2B,EAAS,GACX3G,EAAWiB,WACT,uEACA5B,EAAKwC,cAAc,YAAYQ,MAC/B,+FACCvC,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EAAIyB,EAAUzB,EAAI,GAC5D,OACCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EAAIyB,EAAUzB,EAAI,GAC5D,IACA9E,EAAW,EACX,MACAA,EAAW,EACX,MACA6G,EACA,uDACCA,EAAS,GACV,SACAA,EACA,OACCA,EAAS,GACV,kCACFtG,SAASmB,cACP,mBAAqBxC,EAAKwC,cAAc,YAAYQ,MAAQ,MAC5DP,WAAWsC,MAAMF,KACjBwC,EAAUzB,EACV,GACCjF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,OAEF9E,EAAWiB,WACT,uEACA5B,EAAKwC,cAAc,YAAYQ,MAC/B,sGACAlC,EAAW,EACX,IACAwG,EACA,IACAxG,EAAW,EACX,IACAwG,EACA,IACAK,EACA,qDACCL,EAAS,GACV,KACCK,EAAS,GACV,KACCL,EAAS,GACV,IACAA,EACA,IACAK,EACA,KACCL,EAAS,GACV,KACCK,EAAS,GACV,kCACFtG,SAASmB,cACP,mBACEmC,SAAS3E,EAAKwC,cAAc,YAAYQ,OACxC,MACFP,WAAWsC,MAAMF,KACjBpE,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG0D,EACzC,IACCjF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD7E,EAAW8E,WACX,MAEJpE,SAASmB,cACP,mBACEmC,SAAS3E,EAAKwC,cAAc,YAAYQ,OACxC,MACFP,WAAWsC,MAAMD,IACjBrE,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAG4D,EACzCrF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGiE,OAAS,EAClD,MACsD,GAApD1F,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOxE,KAAI,GAAGhC,OAAc,SACrD8G,GAAO,EACPa,EAAQnB,EAAOxE,IACX8E,OAC8C,GAAhDvG,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMyF,IAAO,GAAG3H,OACvC8G,GAAO,MACF,KACDc,EAAS,MAEPzC,EAAI,EACRA,EAAI5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2H,IAAO5F,OAC5CoD,IACA,KACIqC,GAAAA,EAAWjH,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2H,IAAOxC,IAC1CiB,WAAaoB,EAASxB,MAC7Bb,GAAK5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2H,IAAO5F,OAAS,EACxD6F,GAAUJ,EAASpB,WAEnBwB,GAAUJ,EAASpB,WAAazF,EAG9BwE,GAAK5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2H,IAAO5F,OAAS,EACxD6F,GAAUJ,EAASxB,MAEnB4B,GAAUJ,EAASxB,MAAQrF,EAIjCJ,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMyF,IAAO,GAAGvB,WAAawB,EAClDD,EAAQpH,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMyF,IAAO,GAAG3H,OAGjDO,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMyF,IAAO,GAAGvB,WAAakB,EAElDvG,IACFA,GAAY,EACZjB,EAAKuB,UAAU6C,OAAO,aAExBrC,eAiOAhB,EAAaN,EAAOgE,aAAIC,UAAKA,EAAEkB,QAC3BmC,EAAStH,EAAOgE,aAAIC,UAAKA,EAAEwB,QAC3B8B,EAAUjH,EAAW0D,IAAI,SAAUwD,EAAMC,UACpCD,EAAOF,EAAOG,GAAS,QAEhCnH,EAAauD,KAAK6D,IAAI3D,MAAMF,KAAM0D,IAGhCrH,EAAWiE,wBAAwBC,KAAOU,OAAOC,QACjD,CACAtE,GAAY,UACRwF,EAASjG,EAAOgE,aAAIC,UAAKA,EAAEtC,KACtBiD,EAAI,EAAGA,EAAI5E,EAAOwB,OAAQoD,OACjChE,SAASmB,cACP,mBACE/B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGjD,GACzC,MACFK,WAAWsC,MAAMF,KACjBpE,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGO,EACzCnF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGa,MAAQ,EACjDnF,EACA,GACA,MACsD,GAApDN,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGnF,OAAc,KACrDmH,EAAY5G,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAClDiC,EACFD,EAAUzB,EACVnF,EAAOuF,gBACLtB,UAAKA,EAAEtC,IAAM3B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGnF,SACtD,GAAG0F,EAELvE,SAASmB,cACP,mBAAqBkE,EAAOrB,GAAK,MACjC5C,WAAWsC,MAAMF,KAHjByC,EAAS,EAGeD,EAAUzB,EAAI7E,EAAa,GAAK,EAAI,KAK5DN,EAAOuF,gBACL5D,UAAMA,EAAGA,IAAM3B,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsE,EAAOrB,KAAI,GAAGnF,SACxD,GAAG0F,EACL,GACA7E,EACA,GACA,SAICsE,EAAI,EAAGA,EAAI5E,EAAOwB,OAAQoD,IACjC5E,EAAO4E,GAAGO,EACRvE,SACGmB,cAAc,mBAAqB/B,EAAO4E,GAAGjD,GAAK,MAClDK,WAAWmC,wBAAwBC,KACtCU,OAAOC,SACN7E,EAAWiE,wBAAwBC,KAAOlE,EAAW8E,YACtDd,SACEY,OAAOU,iBACL5E,SAASmB,cAAc,mBAAqB/B,EAAO4E,GAAGjD,GAAK,MACxDK,YACHyD,OAEF,EACF,GAEJlF,EAAgBD,GAhSlBqH,YAGOnD,EAAWvB,MAClBvC,GAAY,EACRkH,EAAe3E,EAAMM,OAAQ,SAAU,KACrCsE,EAAW5E,EAAMM,OAAOC,QAAQ,UAChCP,EAAMC,eACRpD,EAAUmD,EAAMC,cAAc,GAAGE,QACjCrD,EAAUkD,EAAMC,cAAc,GAAGG,UAEjCvD,EAAUmD,EAAMG,QAChBrD,EAAUkD,EAAMI,SAEC,YAAfJ,EAAM6E,MAAsBF,EAAe3E,EAAMM,OAAQ,UACxC,GAAfN,EAAMK,QACHnD,GAAWK,IACdE,GAAY,EAEZf,EACEG,IAFFP,EAAOsI,GAEW1D,wBAAwBC,KAAOU,OAAOC,SACxDnF,EACEG,GAAWR,EAAK4E,wBAAwBE,IAAMS,OAAOG,qBAOxD2C,EAAeG,EAASC,YAC3BD,EAAQE,WACNF,EAAQE,UAAUC,MAAM,KAAKC,QAAQH,IAAc,IAElDD,EAAQ/F,YAAc4F,EAAeG,EAAQ/F,WAAYgG,YAgUzD1G,YACH8G,EAASpI,EAAOgE,aAAIC,UAAKA,EAAExE,SACtB4I,EAAI,EAAGA,EAAID,EAAO5G,OAAQ6G,IAAK,EACpB,GAAdD,EAAOC,IACTA,YAEEtB,EAAa,EACbC,EAAc,EAGZpC,EAAI,EACRA,EAAI5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2I,EAAOC,KAAI7G,OAChDoD,IACA,KACIqC,EAAWjH,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2I,EAAOC,KAAIzD,GACC,GAAxD5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAUwH,EAAStF,KAAIH,SAChDyF,EAASpB,WAAa,GAEpBoB,EAASpB,WAAaoB,EAASxB,MAC7Bb,GAAK5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2I,EAAOC,KAAI7G,OAAS,EAC5DuF,GAAcE,EAASpB,WAEvBkB,GAAcE,EAASpB,WAAazF,EAGlCwE,GAAK5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2I,EAAOC,KAAI7G,OAAS,EAC5DuF,GAAcE,EAASxB,MAEvBsB,GAAcE,EAASxB,MAAQrF,OAInB,GAAdgI,EAAOC,KACTrI,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMyG,EAAOC,KAAI,GAAGxC,WAAakB,GAGlDnC,EAAI,EACRA,EAAI5E,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2I,EAAOC,KAAI7G,OAChDoD,IACA,CACIqC,EAAWjH,EAAOuF,gBAAO5D,UAAMA,EAAGlC,QAAU2I,EAAOC,KAAIzD,OACrD0D,EAAU1H,SAASmB,cACvB,mBAAqBkF,EAAStF,GAAK,MACnCK,WACIuG,EAAUvI,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMyG,EAAOC,KACpDC,EAAQhE,MAAMD,IAAMkE,EAAQlD,EAAIhF,EAAW,KAC3CkI,EAAQlD,EAAIkD,EAAQlD,EAAIhF,EACpB4G,EAASpB,WAAaoB,EAASxB,OACjC6C,EAAQhE,MAAMF,KACZmE,EAAQ,GAAGpD,EACX4B,EAAa,EACbC,EACAC,EAASpB,WAAa,EACtBoB,EAASxB,MAAQ,GAChBvF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD,KACFkC,EAAS9B,EACPoD,EAAQ,GAAGpD,EACX4B,EAAa,EACbC,EACAC,EAASpB,WAAa,EACxBmB,GAAeC,EAASpB,WAAazF,IAErCkI,EAAQhE,MAAMF,KACZmE,EAAQ,GAAGpD,EACX4B,EAAa,EACbC,GACC9G,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD,KACFkC,EAAS9B,EACPoD,EAAQ,GAAGpD,EAAI4B,EAAa,EAAIC,EAAcC,EAASxB,MAAQ,EACjEuB,GAAeC,EAASxB,MAAQrF,OAE9BwG,EAAY5G,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsF,EAAStF,KAAI,GACpDkF,EACFD,EAAUzB,EAAInF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsF,EAASxH,SAAQ,GAAG0F,EAAI,GAC/D+B,EACFN,EAAUvB,EACVuB,EAAUlB,OAAS,GAClB1F,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsF,EAASxH,SAAQ,GAAG4F,EAC9CrF,EAAOuF,gBAAOtB,UAAKA,EAAEtC,IAAMsF,EAASxH,SAAQ,GAAGiG,OAAS,GAC5D9E,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWsC,MAAMD,IACjBrE,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsF,EAASxH,SAAQ,GAAG4F,EACjDrF,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsF,EAASxH,SAAQ,GAAGiG,OAAS,GACzDxF,EAAWiE,wBAAwBE,IAAMS,OAAOG,SACjD,KACE4B,EAAS,GACXjG,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWsC,MAAMF,KACjBwC,EAAUzB,EACV,GACCjF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD,KACFnE,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWb,UACX,+CACA8F,EAAStF,GACT,+FACC3B,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsF,EAASxH,SAAQ,GAAG0F,EAChDyB,EAAUzB,EACV,GACF,OACCnF,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsF,EAASxH,SAAQ,GAAG0F,EAChDyB,EAAUzB,EACV,GACF,IACA9E,EAAW,EACX,MACAA,EAAW,EACX,MACA6G,EACA,uDACCA,EAAS,GACV,SACAA,EACA,OACCA,EAAS,GACV,8BAEFtG,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWsC,MAAMF,KACjBpE,EAAOuF,gBAAO5D,UAAMA,EAAGA,IAAMsF,EAASxH,SAAQ,GAAG0F,EACjD,IACCjF,EAAWiE,wBAAwBC,KAAOU,OAAOC,SAClD,KACFnE,SAASmB,cACP,mBAAqBkF,EAAStF,GAAK,MACnCK,WAAWb,UACX,+CACA8F,EAAStF,GACT,sGACAtB,EAAW,EACX,IACAwG,EACA,IACAxG,EAAW,EACX,IACAwG,EACA,IACAK,EACA,qDACCL,EAAS,GACV,KACCK,EAAS,GACV,KACCL,EAAS,GACV,IACAA,EACA,IACAK,EACA,KACCL,EAAS,GACV,KACCK,EAAS,GACV,iCAMZpI,EAAMY"}